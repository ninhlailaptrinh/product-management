extends ../../layouts/default.pug
include ../../mixins/alert.pug
include ../../mixins/select-tree.pug

block main
  +alert-err(5000)

  h1.mb-4 Thêm danh mục sản phẩm

  .card.shadow-sm
    .card-header.bg-primary.text-white
      | Thông tin danh mục
    .card-body
      form(
        action=`${prefixAdmin}/product-category/create`,
        method="POST",
        enctype="multipart/form-data"
      )
        .form-group.mb-3
          label.form-label(for="title") Tiêu đề
          input#title.form-control(type="text", name="title", required)

        .form-group.mb-3
          label.form-label(for="parent_id") Danh mục cha
          select#parent_id.form-control(name="parent_id")
            option(value="") -- Chọn danh mục cha --
            if(products)
              +select-tree(products)

        .form-group.mb-3
          label.form-label(for="desc") Mô tả
          textarea#desc.form-control.textarea-mce(name="description", rows="5")

        .form-group.mb-3(upload-image)
          label.form-label(for="thumbnail") Ảnh
          input#thumbnail.form-control-file(
            type="file",
            name="thumbnail",
            accept="image/*",
            upload-image-input
          )
          img.image-preview.mt-2(
            src="",
            upload-image-preview,
            style="max-width: 200px; border-radius: 5px; display: none"
          )

        .form-group.mb-3
          label.form-label(for="position") Vị trí
          input#position.form-control(
            type="number",
            name="position",
            placeholder="Tự động tăng",
            min="1"
          )

        .form-group.mb-3
          label.form-label Trạng thái
          .d-flex.align-items-center
            .form-check.form-check-inline.me-4
              input#statusActive.form-check-input(
                type="radio",
                name="status",
                value="active",
                checked
              )
              label.form-check-label(for="statusActive") 
                span.badge.bg-success Hoạt động
            .form-check.form-check-inline
              input#statusInactive.form-check-input(
                type="radio",
                name="status",
                value="inactive"
              )
              label.form-check-label(for="statusInactive") 
                span.badge.bg-danger Dừng hoạt động

        .form-group.mb-3
          button.btn.btn-primary(type="submit") Thêm danh mục

  script(src="/admin/js/product.js")
