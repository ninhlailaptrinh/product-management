extends ../../layouts/default.pug
include ../../mixins/alert.pug

block main
  +alert-ok(5000)
  +alert-err(5000)

  h1.mb-4 Sửa danh mục

  if product
    form#form-edit-product(
      action=`${prefixAdmin}/product-category/edit/${product._id}?_method=PATCH`,
      method="POST",
      enctype="multipart/form-data"
    )
      //- Tiêu đề
      .form-group
        label(for="title") Tiêu đề
        input#title.form-control(
          type="text",
          name="title",
          required,
          value=product.title
        )

      //- Mô tả
      .form-group
        label(for="desc") Mô tả
        textarea#desc.form-control(name="description", rows="5") #{ product.description }

      //- Ảnh
      .form-group(upload-image)
        label(for="thumbnail") Ảnh
        input#thumbnail.form-control-file(
          type="file",
          name="thumbnail",
          accept="image/*",
          upload-image-input
        )
        if product.thumbnail
          img.image-preview(
            src=product.thumbnail,
            upload-image-preview,
            alt="Ảnh danh mục",
            style="width: 150px; margin-top: 10px"
          )

      //- Vị trí
      .form-group
        label(for="position") Vị trí
        input#position.form-control(
          type="number",
          name="position",
          value=product.position,
          min="1"
        )

      //- Trạng thái
      .form-group.form-check.form-check-inline
        input#statusActive.form-check-input(
          type="radio",
          name="status",
          value="active",
          checked=product.status === "active"
        )
        label.form-check-label(for="statusActive") Hoạt động

      .form-group.form-check.form-check-inline
        input#statusInactive.form-check-input(
          type="radio",
          name="status",
          value="inactive",
          checked=product.status === "inactive"
        )
        label.form-check-label(for="statusInactive") Dừng hoạt động

      //- Nút submit
      .form-group
        button.btn.btn-primary(type="submit") Lưu lại
  else
    p Không có thông tin danh mục

  script(src="/admin/js/product.js")
